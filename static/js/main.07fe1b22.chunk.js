(this["webpackJsonphorario-de-trabalho"]=this["webpackJsonphorario-de-trabalho"]||[]).push([[0],{13:function(e,a,t){e.exports=t(25)},18:function(e,a,t){},25:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"addTurno",(function(){return s})),t.d(n,"onChangeTurnoProperty",(function(){return m})),t.d(n,"setCargaHoraria",(function(){return f})),t.d(n,"removerTurno",(function(){return d}));var r=t(0),l=t.n(r),c=t(4),i=t.n(c),o=(t(18),t(2)),u=t(3);function s(){return{type:"ADD_TURNO"}}function m(e,a,t){return{type:"CHANGE_TURNO_VALUE",payload:{index:e,propName:a,value:t}}}function f(e){return{type:"UPDATE_CARGA_HORARIA",payload:e}}function d(e){return{type:"REMOVE_TURNO",payload:e}}var p=t(8),E=t.n(p),v=t(7);function b(e){if(e<=0)return"00:00";var a=e%60;return g((e-a)/60,2)+":"+g(a,2)}function g(e,a){for(var t=e+"";t.length<a;)t="0"+t;return t}function N(e){try{if(!e)return null;var a=e.split(":"),t=Object(v.a)(a,2);return 60*+t[0]+ +t[1]}catch(n){return null}}function h(e){var a=function(){var e=new Date;return 60*e.getHours()+e.getMinutes()}(),t=e.length-1,n=0,r=!0;return e.forEach((function(e,l){var c=N(e.ini),i=N(e.fim);l===t?!c||c>a?r=!1:n+=a-c:c&&i?n+=i-c:r=!1})),r?b(n):null}function O(e,a){if(!e.selection||!e.selection.start||!e.selection.end||e.value===a.value)return e;switch(e.value){case"3 :  ":case"4 :  ":case"5 :  ":case"6 :  ":case"7 :  ":case"8 :  ":case"9 :  ":return e.value=g(+e.value.split(":")[0],2),e.value+=":  ",e.selection.start=3,e.selection.end=3,e}5===e.selection.start&&5===e.selection.end&&(+e.value.split(":")[1]>=60&&(e.value=e.value.split(":")[0]+":00",e.selection={start:3,end:5,length:2}));return e}var y=Object(o.b)((function(e){return e}),(function(e){return Object(u.a)(n,e)}))((function(e){var a=e.Turnos,t=e.CargaHoraria,n=e.setCargaHoraria,r=e.addTurno,c=e.onChangeTurnoProperty,i=e.removerTurno,o=function(e,a,t){c(e,a,t.target.value)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-8 order-md-1"},l.a.createElement("h4",{className:"mb-3"},"Quadro"),l.a.createElement("form",{className:"needs-validation",noValidate:""},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mb-3"},l.a.createElement("label",{htmlFor:"firstName"},"Carga hor\xe1ria necess\xe1ria"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement(E.a,{mask:"99:99",maskChar:" ",className:"form-control app-input",value:t,onChange:function(e){return n(e.target.value)},type:"tel",beforeMaskedValueChange:O}))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-12"},a.map((function(e,a){return l.a.createElement("div",{className:"row",key:a},l.a.createElement("div",{className:"input-box mr-3 mb-3"},l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},"In\xedcio")),l.a.createElement(E.a,{mask:"99:99",maskChar:" ",className:"form-control app-input",value:e.ini,onChange:function(e){return o(a,"ini",e)},type:"tel",beforeMaskedValueChange:O}))),l.a.createElement("div",{className:"input-box mr-3 mb-3"},l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},"Fim")),l.a.createElement(E.a,{mask:"99:99",maskChar:" ",className:"form-control app-input",value:e.fim,onChange:function(e){return o(a,"fim",e)},type:"tel",beforeMaskedValueChange:O}))),a>0&&l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){i(a)},type:"button",className:"btn btn-danger mr-2"},"-")))})),l.a.createElement("div",{className:"row"},l.a.createElement("button",{onClick:function(){r()},type:"button",className:"btn btn-success"},"Adicionar Turno")),l.a.createElement("br",null),l.a.createElement("br",null)))))})),T=Object(o.b)((function(e){return e}),(function(e){return Object(u.a)(n,e)}))((function(e){var a=e.Turnos,t=Object(r.useState)(h(a)),n=Object(v.a)(t,2),c=n[0],i=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-4 order-md-2 mb-4"},l.a.createElement("h4",{className:"d-flex justify-content-between align-items-center mb-3"},l.a.createElement("span",{className:"text-muted"},"Resumo")),l.a.createElement("ul",{className:"list-group mb-3"},a.map((function(e,a){return l.a.createElement("li",{key:a,className:"list-group-item d-flex justify-content-between lh-condensed"},l.a.createElement("div",null,l.a.createElement("h6",{className:"my-0"},a+1,"\xba Turno"),l.a.createElement("small",{className:"text-muted"},"Das ",e.ini," as ",e.fim)),l.a.createElement("span",{className:"text-muted"},function(e){return b(N(e.fim)-N(e.ini))}(e)))})),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between bg-light"},l.a.createElement("div",{className:"text-success"},l.a.createElement("h6",{className:"my-0"},"TOTAL")),l.a.createElement("strong",{className:"text-success"},function(e){var a=0;return e.forEach((function(e){a+=N(e.fim)-N(e.ini)})),b(a)}(a))),c&&l.a.createElement("li",{onClick:function(){i(h(a))},className:"cursor-pointer btn-outline-primary list-group-item d-flex justify-content-between lh-condensed"},l.a.createElement("span",null,"Agora"),l.a.createElement("strong",null,c)))))})),C=function(){return l.a.createElement("footer",{className:"my-5 pt-5 text-muted text-center text-small"},l.a.createElement("p",{className:"mb-1"},"\xa9 Renan Rolo"),l.a.createElement("ul",{className:"list-inline"},l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"https://github.com/renanrolo"},"https://github.com/renanrolo"))))},j=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Calculadora de Hor\xe1rio de Sa\xedda")),l.a.createElement("br",null),l.a.createElement("br",null))};var x=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(j,null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement(y,null),l.a.createElement(T,null)),l.a.createElement(C,null)))},A=(t(24),t(1)),R=t(11),k="cargahoraria",w=function(){try{var e=JSON.parse(localStorage.getItem(k));if(e)return e}catch(a){window.console&&console.log("invalid loadJson",a)}return{Turnos:[{ini:"08:00",fim:"11:30"},{ini:"12:30",fim:"17:00"}],CargaHoraria:"08:00"}}();function H(e){return localStorage.setItem(k,JSON.stringify(e)),e}function _(e){var a=N(e);return!!(a&&a>0)}function U(e,a,t,n){if(n){var r=t.length-1;if("fim"!==e||a!==r){var l=!0;if(t.forEach((function(e,a){a===r?_(e.ini)||(l=!1):_(e.ini)&&_(e.fim)||(l=!1)})),l){var c=0;t.forEach((function(e,a){a<r&&(c+=N(e.fim)-N(e.ini))}));var i=t[r],o=N(n)-c,u=N(i.ini)+o;i.fim=b(u)}}}}var D=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REMOVE_TURNO":var t=a.payload,n=Object(R.a)(e.Turnos);return n.splice(t,1),H(Object(A.a)(Object(A.a)({},e),{},{Turnos:n}));case"ADD_TURNO":var r=Object(R.a)(e.Turnos);return r.push({ini:"",fim:""}),H(Object(A.a)(Object(A.a)({},e),{},{Turnos:r}));case"CHANGE_TURNO_VALUE":var l=a.payload,c=l.propName,i=l.value,o=l.index,u="ini"===c?{ini:i}:{fim:i},s=e.Turnos.map((function(e,a){return a!==o?e:Object(A.a)(Object(A.a)({},e),u)}));return U(c,o,s,e.CargaHoraria),H(Object(A.a)(Object(A.a)({},e),{},{Turnos:s}));case"UPDATE_CARGA_HORARIA":var m=e.Turnos.map((function(e,a){return Object(A.a)({},e)}));return U("ini",0,m,a.payload),H(Object(A.a)(Object(A.a)({},e),{},{CargaHoraria:a.payload,Turnos:m}));default:return e}}));i.a.render(l.a.createElement(o.a,{store:D},l.a.createElement(x,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.07fe1b22.chunk.js.map